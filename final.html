<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- CSS Imports -->
    <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.2.3/leaflet.draw.css" />
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="header">
      <div id="timegraph" class="graphT text-center">
        <p id="descrip" class="textClass">Over the course of the night of Saturday April 16th in Spring 2016, I pulled tweets in Philly with Python and geocoded them onto the map below with CartoDB.
          After <a href="https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html" target="_blank">catagorizing the tweets</a> into happy (represented with <span style="color:#FFD000"> yellow </span>), and sad (represented with <span style="color:#C000FF"> purple </span>)
  I used <a href="http://turfjs.org/" target="_blank">Turf.JS </a> to sum the total number of each in a block and reach a "mood score" for each bar at different points in the night.
  Click on the buttons below, then wait patiently for map to load. The graph that replaces this text when you click the buttons below shows tweet volume at different points in the night.
  Click on the <span style="color:#FF0000"> red </span> dots to see the name of each bar, and the <span style="color:#FFD000"> yellow </span>, <span style="color:#C000FF"> purple </span>,
  and <span style="color:#707070"> grey </span> dots to see the text of each tweet. Clicking on the bars in the bar list will highlight them on the map in <span style="color:#0000ff"> blue</span>. Keep in mind: only about 2% of public tweets are geocoded! This project was more for fun than to yield conclusions about each bar.
  The scripts used to pull tweets, and create the graph below <a href="https://github.com/Pherman09/SaddestBarinPhilly" target="_blank">are available on my github.</a> </p>
        <canvas id="myTimeChart" width=1% height=1%></canvas>
      </div>
      <div id="buttondiv" class="text-center">
        <button id="tweetAllMapButton" class="btn btn-primary timeButton">Map All Tweets</button>
        <button id="tweetLateAfterNoonMapButton" class="btn btn-primary timeButton">Map Late Afternnon Tweets</button>
        <button id="tweetEveningMapButton" class="btn btn-primary timeButton">Map Evening Tweets</button>
        <button id="tweetLateNightMapButton" class="btn btn-primary timeButton">Map Late Night Tweets</button>
      </div>
      <div id="legend" class="text-center">
        <span>Bars: </span><span class="legBlock" style="background-color:red">__</span>
        <span>Sad Tweets: </span><span class="legBlock" style="background-color:#C000FF">__</span>
        <span>Happy Tweets: </span><span class="legBlock" style="background-color:#FFD000">__</span>
        <span>Neutral Tweets: </span><span class="legBlock" style="background-color:#808080">__</span>
      </div>
    </div>
    <div id="mainDiv">
    <div id="map" class="map"></div>
    <!--content-->
    <div class="content">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
      <!--Graphs Table-->
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Bar List
                  </th>
                  <th>Bar Stats
                  </th>
                  <th>Tweet Stats
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div id="happyBarsList" class="col-xs-12 col-sm-6 col-md-8 listC text-center">Top Five Happiest Bars</div>
                  </td>
                  <td>
                    <div id="happygraph" class="col-xs-12 col-sm-6 col-md-8 graphC text-center"> Number of Tweets at Happiest Bars
                      <canvas id="myHappyChart" class="Canclass" width=100% height=100%></canvas>
                    </div>
                  </td>
                  <td>
                    <div id="donutBox"class="col-xs-12 col-sm-6 col-md-8 graphC text-center"> Happy/Sad Tweets Ratio
                      <canvas id="myDonutChart" class="Canclass" width=100% height=100%></canvas>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div id="sadBarsList" class="col-xs-12 col-sm-6 col-md-8 listC text-center"> Top Five Saddest Bars</div>
                  </td>
                  <td>
                    <div id="sadgraph" class="col-xs-12 col-sm-6 col-md-8 graphC text-center"> Number of Tweets at Saddest Bars
                      <canvas id="mySadChart" class="Canclass" width=100% height=100%></canvas>
                    </div>
                  </td>
                  <td>
                    <div id="freqgraph"class="col-xs-12 col-sm-6 col-md-8 graphC text-center"> Trending Topics
                      <canvas id="myFreqChart"class="Canclass"  width=100% height=100%></canvas>
                    </div>
                  </td>
                </tr>
              </tbody>
            </div>
        </div>
      </div>
    </div>
  </div>
    <!-- Javascript Imports -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="http://libs.cartocdn.com/cartodb.js/v3/cartodb.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.2.3/leaflet.draw.js"></script>
    <script src="https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v2.0.0/turf.min.js"></script>
    <script src="js/Chart.js"></script>
    <script src="js/negativewords.js"></script>
    <script src="js/positivewords.js"></script>
    <script src="js/commonwords.js"></script>
    <script src="js/setupDB.js"></script>
    <script src="js/funcsDB.js"></script>
  </body>
</html>
